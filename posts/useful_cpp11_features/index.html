<!DOCTYPE html>
<html lang="">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.79.0" />

    
    
    

<title>Useful C&#43;&#43;11 features â€¢ </title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Useful C&#43;&#43;11 features"/>
<meta name="twitter:description" content="The following are some features that added to the C&#43;&#43;11 standard and are useful in programming.
 auto range based for loop lambda trailing return type decltype override final  auto At the compile-time type of variable is deduced from the initializer. There is no need to declare the type of variable.
In following example vector&lt;int&gt;::iterator is replaced with auto.
#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std; double add(int a, int b) { double c = a &#43; b; return c; } int main() { vector&lt;int&gt; vec = {1, 2, 3, 4, 5}; auto a = 1; // type of a is int  auto b = 1."/>

<meta property="og:title" content="Useful C&#43;&#43;11 features" />
<meta property="og:description" content="The following are some features that added to the C&#43;&#43;11 standard and are useful in programming.
 auto range based for loop lambda trailing return type decltype override final  auto At the compile-time type of variable is deduced from the initializer. There is no need to declare the type of variable.
In following example vector&lt;int&gt;::iterator is replaced with auto.
#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std; double add(int a, int b) { double c = a &#43; b; return c; } int main() { vector&lt;int&gt; vec = {1, 2, 3, 4, 5}; auto a = 1; // type of a is int  auto b = 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/useful_cpp11_features/" />
<meta property="article:published_time" content="2021-01-26T13:15:42+05:30" />
<meta property="article:modified_time" content="2021-01-26T13:15:42+05:30" /><meta property="og:site_name" content="this is auther title" />


    








<link rel="stylesheet" href="/scss/hyde-hyde.71157e768c4e111a23c3531b95e0cbb59bbef3c9e6901d36247cb53d6b6be258.css" integrity="sha256-cRV&#43;doxOERojw1MbleDLtZu&#43;88nmkB02JHy1PWtr4lg=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="">
        
          
        
        </a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="/tejas.png" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle"></label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/">
						<span>Home</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/@distinct_panda" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://github.com/tejasMadrewar" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="https://linkedin.com/in/tejas-madrewar" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2021 Tejas Madrewar
  
    <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  
</div>



  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Useful C&#43;&#43;11 features</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jan 26, 2021
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/cpp">cpp</a>
           
      
          <a class="badge badge-tag" href="/tags/cpp11">cpp11</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 6 min read
</div>


  </header>
  
  
  <div class="post">
    <p>The following are some features that added to the C++11 standard and are useful in programming.</p>
<ul>
<li><a href="#auto">auto</a></li>
<li><a href="#range-based-for-loop">range based for loop</a></li>
<li><a href="#lambda">lambda</a></li>
<li><a href="#trailing-return-type">trailing return type</a></li>
<li><a href="#decltype">decltype</a></li>
<li><a href="#override">override</a></li>
<li><a href="#final">final</a></li>
</ul>
<h2 id="auto">auto</h2>
<p>At the compile-time type of variable is deduced from the initializer. There is no need to declare the type of variable.</p>
<p>In following example <em>vector&lt;int&gt;::iterator</em> is replaced with <em>auto</em>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">double</span> <span style="color:#a6e22e">add</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
  <span style="color:#66d9ef">double</span> c <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b;
  <span style="color:#66d9ef">return</span> c;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
  <span style="color:#66d9ef">auto</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;            <span style="color:#75715e">// type of a is int
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.1</span>;          <span style="color:#75715e">// type of b is float
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> c <span style="color:#f92672">=</span> add(<span style="color:#ae81ff">123</span>, <span style="color:#ae81ff">46</span>); <span style="color:#75715e">// type of c is double
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> d <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>;          <span style="color:#75715e">// type of d is char
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> e <span style="color:#f92672">=</span> vec.begin();  <span style="color:#75715e">// type of e is vector&lt;int&gt;::iterator
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>a1 <span style="color:#f92672">=</span> a;          <span style="color:#75715e">// type of a1 is reference to int
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> i <span style="color:#f92672">=</span> vec.begin(); i <span style="color:#f92672">!=</span> vec.end(); i<span style="color:#f92672">++</span>) {
    sum <span style="color:#f92672">+=</span> <span style="color:#f92672">*</span>i;
  }
  cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;sum of elements is &#34;</span> <span style="color:#f92672">&lt;&lt;</span> sum <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
}
</code></pre></div><p>We can see the code is more readable. We can also get variables by reference by <em>auto&amp;</em> instead of <em>auto</em>.</p>
<h2 id="range-based-for-loop">range based for loop</h2>
<p>With help of range based for loop can be written as</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> vec <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};
  <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> i:vec) {
    sum <span style="color:#f92672">+=</span> i;
  }
  cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;sum of elements is &#34;</span> <span style="color:#f92672">&lt;&lt;</span> sum <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
}
</code></pre></div><h2 id="lambda">lambda</h2>
<p>Lambda is an unnamed function object capable of capturing variables in scope.</p>
<p>Lambda syntax:  [capture clause] (parameter list) {lambda body}</p>
<table>
<thead>
<tr>
<th>Capture clause</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ ] (&hellip;){..}</td>
<td>Access no variables</td>
</tr>
<tr>
<td>[=] (&hellip;){..}</td>
<td>Capture variables by value</td>
</tr>
<tr>
<td>[&amp;] (&hellip;){..}</td>
<td>Capture variables by reference</td>
</tr>
<tr>
<td>[n, &amp;m] (&hellip;){..}</td>
<td>For each variable, decide capture type (value or reference)</td>
</tr>
</tbody>
</table>
<p>The following code shows each capture example.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#75715e">// lambda to print value
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> print <span style="color:#f92672">=</span> [](<span style="color:#66d9ef">int</span> a) { std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;printing: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> a <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; };
  print(<span style="color:#ae81ff">1234</span>);   <span style="color:#75715e">// print 1234
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// lambda to add values
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> add <span style="color:#f92672">=</span> [](<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) { <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b; };
 cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;5 + 3 = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> add(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; <span style="color:#75715e">//  5 + 3 = 8
</span><span style="color:#75715e"></span>
  <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
  <span style="color:#66d9ef">int</span> m <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>;
  <span style="color:#75715e">// capture variables by value
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> printValue <span style="color:#f92672">=</span> [<span style="color:#f92672">=</span>]() { std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;n = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> n <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; };
  printValue(); <span style="color:#75715e">//  n = 10
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// capture variables by reference
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> printRef <span style="color:#f92672">=</span> [<span style="color:#f92672">&amp;</span>]() { std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;n = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> n <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; };
  printRef(); <span style="color:#75715e">// n = 10
</span><span style="color:#75715e"></span>
  <span style="color:#75715e">// capture individual variable
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> printPass <span style="color:#f92672">=</span> [n, <span style="color:#f92672">&amp;</span>m]() { <span style="color:#75715e">// capture n by value, m by reference
</span><span style="color:#75715e"></span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;n = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> n <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
              <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;m = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> m <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
  };
  printPass(); <span style="color:#75715e">// n = 10 m = 12
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>Variables capture by value can not be modified inside the lambda using the <strong>mutable</strong> keyword allows modification inside the lambda.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdlib&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
  <span style="color:#75715e">// modify value in lambda
</span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;n = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> n <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; <span style="color:#75715e">// n = 10
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// auto incN = [=]() { n++; }; // error can not assign in non-mutable lambda
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> incN <span style="color:#f92672">=</span> [<span style="color:#f92672">=</span>]() <span style="color:#66d9ef">mutable</span> { n<span style="color:#f92672">++</span>; };
  incN();
  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;n = &#34;</span> <span style="color:#f92672">&lt;&lt;</span> n <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; <span style="color:#75715e">// n = 10
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><p>Lambda is convenient to use with standard library algorithms.</p>
<p>The following is an example of sorting elements of a vector by absolute values.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdlib&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> v <span style="color:#f92672">=</span> {<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">76</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">55</span>, <span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>};
  <span style="color:#75715e">// sort vector by absolute value
</span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>sort(v.begin(), v.end(), [](<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) { <span style="color:#66d9ef">return</span> abs(a) <span style="color:#f92672">&lt;</span> abs(b); });
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>i : v) {
    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> i <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span>; <span style="color:#75715e">// -1 -1 3 3 -4 5 7 -7 9 -9 55 76
</span><span style="color:#75715e"></span>  }

  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h2 id="trailing-return-type">trailing return type</h2>
<p>C++11 introduced a new way to declare the return value of a function.
This new way is useful in lambda and template programming.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#75715e">// trailing return type function example
</span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> <span style="color:#a6e22e">mul</span>(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">int</span> { <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b; }

<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> mul(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;

  <span style="color:#75715e">// use of trailing return type in lambda
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">auto</span> add <span style="color:#f92672">=</span> [](<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">int</span> { <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b; };
  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}
</code></pre></div><h2 id="decltype">decltype</h2>
<p>Using template and lambda with auto sometimes it is difficult to deduce the return type without knowing the argument types, in this situation <strong>decltype</strong> becomes useful.
<strong>decltype</strong> returns type of variable or expression</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#75715e">// use of decltype in template
</span><span style="color:#75715e"></span><span style="color:#66d9ef">template</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">typename</span> A, <span style="color:#66d9ef">typename</span> B<span style="color:#f92672">&gt;</span> 
<span style="color:#66d9ef">auto</span> add(A a, B b) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">decltype</span>(a <span style="color:#f92672">+</span> b) {
  <span style="color:#66d9ef">return</span> a <span style="color:#f92672">+</span> b;
}
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
  <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
  <span style="color:#66d9ef">decltype</span>(a) b <span style="color:#f92672">=</span> a <span style="color:#f92672">*</span> <span style="color:#ae81ff">5</span>; <span style="color:#75715e">// declare variable b of same type as a
</span><span style="color:#75715e"></span>
  cout <span style="color:#f92672">&lt;&lt;</span> add(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;     <span style="color:#75715e">// return int
</span><span style="color:#75715e"></span>  cout <span style="color:#f92672">&lt;&lt;</span> add(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6.1</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;   <span style="color:#75715e">// return float
</span><span style="color:#75715e"></span>  cout <span style="color:#f92672">&lt;&lt;</span> add(<span style="color:#ae81ff">4.1</span>, <span style="color:#ae81ff">6</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;   <span style="color:#75715e">// return float
</span><span style="color:#75715e"></span>  cout <span style="color:#f92672">&lt;&lt;</span> add(<span style="color:#ae81ff">4.1</span>, <span style="color:#ae81ff">6.1</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; <span style="color:#75715e">// return float
</span><span style="color:#75715e"></span>
  <span style="color:#66d9ef">auto</span> mul <span style="color:#f92672">=</span> [](<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">int</span> { <span style="color:#66d9ef">return</span> a <span style="color:#f92672">*</span> b; };
  <span style="color:#66d9ef">decltype</span>(mul) newMul <span style="color:#f92672">=</span> mul; <span style="color:#75715e">// the type of a lambda is unique and unnamed
</span><span style="color:#75715e"></span>  cout <span style="color:#f92672">&lt;&lt;</span> mul(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">4</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
  cout <span style="color:#f92672">&lt;&lt;</span> newMul(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>) <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
}

</code></pre></div><h2 id="override">override</h2>
<p>C++11 introduced the new keyword <strong>override</strong>, which at compile time checks whether the method overridden is virtual in parent class, if not then it throw the error. It act as safety check at compile time, whether overridden method is virtual or not in parent class.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;string&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
  A() {}
  <span style="color:#66d9ef">virtual</span> <span style="color:#f92672">~</span>A() {}
  <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">method1</span>() { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;method1 A</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; }
  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">method2</span>() { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;method2 A</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; }
};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span> <span style="color:#f92672">:</span> A {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
  B() {}
  <span style="color:#66d9ef">virtual</span> <span style="color:#f92672">~</span>B() {}
  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">method1</span>() <span style="color:#66d9ef">override</span> { cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;method1 B</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>; }; <span style="color:#75715e">// OK
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">void</span>
  <span style="color:#a6e22e">method2</span>() { <span style="color:#75715e">// error only virtual functions can be marked override
</span><span style="color:#75715e"></span>    cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;method2 B</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
  };
};

</code></pre></div><h2 id="final">final</h2>
<p>&lsquo;final&rsquo; ensures when used in virtual function declaration or definition that marked function can not be overridden into the derived class otherwise compile time error is generated.</p>
<p>&lsquo;final&rsquo; ensures when used in class definition that no class can be derived from that class otherwise compile time error is generated.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Base</span> {
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
  <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> foo() {}
};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span> <span style="color:#f92672">:</span> Base {
  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foo</span>() <span style="color:#66d9ef">final</span>{}; <span style="color:#75715e">// mark method as final
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bar</span>() <span style="color:#66d9ef">final</span>{}; <span style="color:#75715e">// error as it is non virtual method
</span><span style="color:#75715e"></span>};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span> <span style="color:#66d9ef">final</span> <span style="color:#f92672">:</span> A {      <span style="color:#75715e">// make class final
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">foo</span>() <span style="color:#66d9ef">override</span>{}; <span style="color:#75715e">// error foo overrides final function
</span><span style="color:#75715e"></span>};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span> <span style="color:#f92672">:</span> B { <span style="color:#75715e">// error class B is marked as final
</span><span style="color:#75715e"></span>};
</code></pre></div><h2 id="reference">Reference</h2>
<ol>
<li><a href="https://en.cppreference.com/">cppreference.com</a></li>
<li><a href="https://www.stroustrup.com/C++11FAQ.html">stroustrup C++ FAQ</a></li>
</ol>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/arduino_bootloader/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Arduino Bootloader</span>
    </a>
    
    
</div>


  

  
    


</article>


        </div>
        
    

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-139556198-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.12.1/js/all.js" integrity="sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR" crossorigin="anonymous"></script>




    



    </body>
</html>
